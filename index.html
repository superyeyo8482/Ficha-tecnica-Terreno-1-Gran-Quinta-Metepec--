<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    
    <!-- SEO & METADATA -->
    <title>Inversión Lote 1 Gran Quinta | 250m² | Aurelio Robles</title>
    <meta name="description" content="Oportunidad patrimonial en Metepec: Terreno residencial de 250m² frente a Casa Club. Precio total: $2,875,000 MXN ($11,500/m²). Adquisición segura mediante Sustitución de Deudor ante Notario.">
    <meta name="author" content="Aurelio Robles Pichardo">
    
    <!-- OPEN GRAPH -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Inversión Lote 1 Gran Quinta | 250m² | Aurelio Robles">
    <meta property="og:description" content="Terreno Residencial de 250m² frente a Casa Club en Metepec. Precio total: $2,875,000 MXN ($11,500/m²). Esquema legal de Sustitución de Deudor ante Notario.">
    <meta property="og:image" content="https://raw.githubusercontent.com/superyeyo8482/Ficha-tecnica-Terreno-1-Gran-Quinta-Metepec--/main/imagen%206%20(entrada%20principal).jpg">
    
    <!-- MOTORES: React, Babel, Tailwind CSS, Chart.js y Plugin Datalabels -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Playfair+Display:ital,wght@0,700;1,700&display=swap');
        
        body { font-family: 'Inter', sans-serif; background-color: #FDFBF7; color: #0F172A; scroll-behavior: smooth; }
        .font-serif { font-family: 'Playfair Display', serif; }
        
        .hero-bg {
            background-image: linear-gradient(to bottom, rgba(15, 23, 42, 0.5), rgba(253, 251, 247, 0.9)), 
                              url('https://raw.githubusercontent.com/superyeyo8482/Ficha-tecnica-Terreno-1-Gran-Quinta-Metepec--/main/imagen%206%20(entrada%20principal).jpg');
            background-size: cover;
            background-position: center 30%;
        }

        .glass-panel { 
            background: rgba(255, 255, 255, 0.85); 
            backdrop-filter: blur(12px); 
            border: 1px solid rgba(255, 255, 255, 0.5); 
        }

        .animate-up { animation: fadeInUp 0.8s ease-out forwards; opacity: 0; transform: translateY(20px); }
        @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
        
        .section-fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out forwards;
        }
        
        .badge-pulse {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .chart-container { position: relative; width: 100%; height: 320px; }
        .btn-touch { min-height: 48px; display: flex; align-items: center; justify-content: center; }
        
        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .hover-lift:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.2);
        }
        
        .shadow-strong-hover:hover {
            box-shadow: 0 30px 60px -15px rgba(0,0,0,0.3);
        }
        
        img {
            transition: transform 0.6s cubic-bezier(0.2, 0.9, 0.3, 1);
        }
        .image-zoom:hover img {
            transform: scale(1.05);
        }
        
        .bubble-chart-container, .radar-chart-container {
            position: relative;
            width: 100%;
            height: 350px;
        }
        
        /* MEJORAS PARA MÓVIL */
        @media (max-width: 640px) {
            .bubble-chart-container, .radar-chart-container {
                height: 280px;
            }
            
            .chart-container {
                height: 250px;
            }
            
            .bubble-chart-container canvas, 
            .radar-chart-container canvas,
            .chart-container canvas {
                touch-action: pan-y pinch-zoom;
            }
            
            h1, .text-6xl {
                font-size: 3.5rem !important;
            }
            
            h2, .text-4xl {
                font-size: 2rem !important;
            }
            
            .text-xl {
                font-size: 1.1rem !important;
            }
            
            .p-8 {
                padding: 1.5rem !important;
            }
            
            .rounded-[3rem] {
                border-radius: 2rem !important;
            }
        }
        
        /* Tabla con scroll horizontal en móvil */
        .overflow-x-auto {
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
        }
        
        /* Botones más grandes para móvil */
        @media (max-width: 640px) {
            .btn-touch {
                min-height: 52px;
                font-size: 0.7rem !important;
                padding-left: 1.25rem !important;
                padding-right: 1.25rem !important;
            }
            
            .fixed.bottom-6.right-6 {
                bottom: 1rem;
                right: 1rem;
            }
        }
    </style>
</head>
<body>
    <div id="root">
        <div style="display:flex; justify-content:center; align-items:center; height:100vh; font-family:serif; font-style:italic;">
            Cargando Ficha Técnica Ejecutiva...
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const Icon = ({ name, className = "", ariaHidden = true }) => {
            const icons = {
                map: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                        <circle cx="12" cy="10" r="3"/>
                    </svg>
                ),
                play: <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className={className} aria-hidden={ariaHidden}><polygon points="5 3 19 12 5 21 5 3"/></svg>,
                pause: <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className={className} aria-hidden={ariaHidden}><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>,
                whatsapp: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                    </svg>
                ),
                bank: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <rect width="20" height="12" x="2" y="6" rx="2"/>
                        <circle cx="12" cy="12" r="2"/>
                        <path d="M6 12h.01M18 12h.01"/>
                    </svg>
                ),
                shield: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                ),
                check: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <polyline points="20 6 9 17 4 12"/>
                    </svg>
                ),
                phone: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <rect x="5" y="2" width="14" height="20" rx="2" ry="2"/>
                        <line x1="12" y1="18" x2="12" y2="18"/>
                    </svg>
                ),
                star: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="currentColor" stroke="none"
                         className={className} aria-hidden={ariaHidden}>
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                    </svg>
                ),
                external: (
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                         fill="none" stroke="currentColor" strokeWidth="2"
                         strokeLinecap="round" strokeLinejoin="round"
                         className={className} aria-hidden={ariaHidden}>
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                        <polyline points="15 3 21 3 21 9"></polyline>
                        <line x1="10" y1="14" x2="21" y2="3"></line>
                    </svg>
                )
            };
            return icons[name] || null;
        };

        const App = () => {
            const [scrolled, setScrolled] = useState(false);
            const [isPlaying, setIsPlaying] = useState(false);
            const [windowWidth, setWindowWidth] = useState(window.innerWidth);
            const videoRef = useRef(null);
            const chartRef = useRef(null);
            const bubbleRef = useRef(null);
            const radarRef = useRef(null);
            
            const baseUrl = "https://raw.githubusercontent.com/superyeyo8482/Ficha-tecnica-Terreno-1-Gran-Quinta-Metepec--/main/";

            // Detectar tamaño de pantalla para ajustar gráficos
            useEffect(() => {
                const handleResize = () => setWindowWidth(window.innerWidth);
                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            // SOLO los nombres de los archivos que subiste
            const images = {
                hero: "imagen%206%20(entrada%20principal).jpg",
                aerial: "imagen%208%20(gran%20quinta%20vista%20desdde%20arriba).jpg",
                clubHouse1: "imagen%207%20(casa%20club).jpg",
                clubHouse2: "imagen%204%20(casa%20club).webp",
                greenAreas: "imagen%205%20(areas%20verdes).webp",
                street: "imagen%202%20(%20calle%20y%20casas).webp",
                house1: "imagen%201%20(casa).webp",
                house2: "imagen%203%20(casa2).webp",
                construction: "imagen%20casa%209%20(construccion%20de%20una%20casa).jpg"
            };

            // Datos de fraccionamientos con distancias reales (en minutos)
            const fraccionamientos = [
                { 
                    nombre: "Gran Quinta (Lote 1)", 
                    precio: 11500, 
                    distLasTorres: 5,
                    distTollocan: 4,
                    distComonfort: 6,
                    distTecnologico: 8,
                    distCentroToluca: 12,
                    distCentroMetepec: 7,
                    puntajeUbicacion: 94,
                    plusvalia: 14,
                    color: "#F59E0B",
                    tamaño: 18,
                    link: "https://www.inmuebles24.com/terrenos-en-venta-en-gran-quinta-metepec.html"
                },
                { 
                    nombre: "Condado del Valle", 
                    precio: 12400, 
                    distLasTorres: 8,
                    distTollocan: 7,
                    distComonfort: 9,
                    distTecnologico: 12,
                    distCentroToluca: 18,
                    distCentroMetepec: 10,
                    puntajeUbicacion: 78,
                    plusvalia: 11,
                    color: "#1E1B4B",
                    tamaño: 15,
                    link: "https://www.inmuebles24.com/terrenos-en-venta-en-condado-del-valle-metepec.html"
                },
                { 
                    nombre: "Villas de San José", 
                    precio: 10800, 
                    distLasTorres: 12,
                    distTollocan: 10,
                    distComonfort: 14,
                    distTecnologico: 15,
                    distCentroToluca: 22,
                    distCentroMetepec: 16,
                    puntajeUbicacion: 62,
                    plusvalia: 8,
                    color: "#64748B",
                    tamaño: 12,
                    link: "https://www.vivanuncios.com.mx/terrenos-en-venta-en-villas-de-san-jose-metepec"
                },
                { 
                    nombre: "Los Pilares", 
                    precio: 11200, 
                    distLasTorres: 10,
                    distTollocan: 9,
                    distComonfort: 11,
                    distTecnologico: 13,
                    distCentroToluca: 20,
                    distCentroMetepec: 12,
                    puntajeUbicacion: 70,
                    plusvalia: 10,
                    color: "#64748B",
                    tamaño: 13,
                    link: "https://www.vivanuncios.com.mx/terrenos-en-venta-en-los-pilares-metepec"
                },
                { 
                    nombre: "Hípico Residencial", 
                    precio: 13500, 
                    distLasTorres: 6,
                    distTollocan: 5,
                    distComonfort: 7,
                    distTecnologico: 10,
                    distCentroToluca: 15,
                    distCentroMetepec: 8,
                    puntajeUbicacion: 85,
                    plusvalia: 12,
                    color: "#64748B",
                    tamaño: 16,
                    link: "https://www.inmuebles24.com/terrenos-en-venta-en-hipico-residencial-metepec.html"
                },
                { 
                    nombre: "Paseos del Valle", 
                    precio: 9500, 
                    distLasTorres: 15,
                    distTollocan: 14,
                    distComonfort: 16,
                    distTecnologico: 20,
                    distCentroToluca: 28,
                    distCentroMetepec: 18,
                    puntajeUbicacion: 48,
                    plusvalia: 5,
                    color: "#64748B",
                    tamaño: 10,
                    link: "https://www.propiedades.com/terrenos-en-venta-en-paseos-del-valle-metepec"
                }
            ];

            // Factores para gráfico de radar
            const factoresRadar = [
                'Las Torres',
                'Tollocan',
                'Comonfort',
                'Tecnológico',
                'C. Toluca',
                'C. Metepec'
            ];

            const puntuacionesGranQuinta = [9, 10, 8, 8, 7, 9]; 
            const puntuacionesOtros = [6, 5, 5, 4, 4, 6];

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                
                Chart.register(ChartDataLabels);

                // Gráfica de tendencia de precios
                if (!chartRef.current) {
                    const ctx = document.getElementById('marketChart').getContext('2d');
                    
                    const gradient = ctx.createLinearGradient(0, 0, 0, 400);
                    gradient.addColorStop(0, 'rgba(30, 27, 75, 0.5)');
                    gradient.addColorStop(1, 'rgba(30, 27, 75, 0.0)');

                    chartRef.current = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['2021', '2022', '2023', '2024', '2025', '2026 (Proy)'],
                            datasets: [
                                {
                                    label: 'Promedio Zona Metepec ($/m²)',
                                    data: [8500, 9200, 10500, 11800, 12500, 13800],
                                    borderColor: '#1E1B4B',
                                    backgroundColor: gradient,
                                    fill: true,
                                    tension: 0.4,
                                    pointRadius: windowWidth < 640 ? 3 : 4,
                                    pointHoverRadius: windowWidth < 640 ? 5 : 6
                                },
                                {
                                    label: 'Oportunidad Lote 1',
                                    data: [null, null, null, null, 11500, null],
                                    borderColor: '#F59E0B',
                                    backgroundColor: '#F59E0B',
                                    pointRadius: windowWidth < 640 ? 8 : 10,
                                    pointHoverRadius: windowWidth < 640 ? 10 : 12,
                                    type: 'scatter',
                                    datalabels: {
                                        align: 'top',
                                        color: '#F59E0B',
                                        font: { weight: 'bold', size: windowWidth < 640 ? 10 : 14 },
                                        formatter: () => '$11,500'
                                    }
                                }
                            ]
                        },
                        options: { 
                            maintainAspectRatio: false,
                            responsive: true,
                            scales: {
                                y: {
                                    beginAtZero: false,
                                    min: 7000,
                                    grid: { color: 'rgba(0,0,0,0.05)' },
                                    ticks: {
                                        callback: function(value) { return '$' + value.toLocaleString(); },
                                        font: { family: 'Inter', size: windowWidth < 640 ? 8 : 10 },
                                        maxTicksLimit: windowWidth < 640 ? 5 : 8
                                    }
                                },
                                x: {
                                    grid: { display: false },
                                    ticks: { 
                                        font: { family: 'Inter', size: windowWidth < 640 ? 8 : 10 },
                                        maxRotation: 45,
                                        autoSkip: true
                                    }
                                }
                            },
                            plugins: { 
                                legend: { 
                                    position: 'bottom', 
                                    labels: { 
                                        font: { family: 'Inter', weight: 'bold', size: windowWidth < 640 ? 9 : 11 },
                                        boxWidth: windowWidth < 640 ? 10 : 12
                                    } 
                                },
                                tooltip: {
                                    enabled: true,
                                    intersect: false,
                                    mode: 'index',
                                    titleFont: { size: windowWidth < 640 ? 10 : 12 },
                                    bodyFont: { size: windowWidth < 640 ? 9 : 11 }
                                },
                                datalabels: {
                                    display: function(context) {
                                        return context.dataset.type === 'scatter';
                                    }
                                }
                            } 
                        }
                    });
                }

                // GRÁFICO DE BURBUJAS CON NOMBRES VISIBLES
                if (!bubbleRef.current) {
                    const bubbleCtx = document.getElementById('bubbleChart').getContext('2d');
                    bubbleRef.current = new Chart(bubbleCtx, {
                        type: 'bubble',
                        data: {
                            datasets: [{
                                label: 'Fraccionamientos',
                                data: fraccionamientos.map(f => ({
                                    x: f.precio,
                                    y: f.puntajeUbicacion,
                                    r: f.tamaño,
                                    nombre: f.nombre  // Guardamos el nombre para mostrarlo
                                })),
                                backgroundColor: fraccionamientos.map(f => f.color),
                                borderColor: 'white',
                                borderWidth: 2
                            }]
                        },
                        options: {
                            maintainAspectRatio: false,
                            responsive: true,
                            layout: {
                                padding: {
                                    top: windowWidth < 640 ? 20 : 30,  // Espacio para las etiquetas
                                    bottom: 20
                                }
                            },
                            scales: {
                                x: {
                                    title: {
                                        display: true,
                                        text: 'Precio por m² (MXN)',
                                        font: { family: 'Inter', weight: 'bold', size: windowWidth < 640 ? 9 : 12 }
                                    },
                                    ticks: {
                                        callback: function(value) { return '$' + (value/1000).toFixed(0) + 'k'; },
                                        font: { size: windowWidth < 640 ? 8 : 10 },
                                        maxTicksLimit: windowWidth < 640 ? 4 : 6
                                    }
                                },
                                y: {
                                    title: {
                                        display: true,
                                        text: 'Puntaje de Ubicación',
                                        font: { family: 'Inter', weight: 'bold', size: windowWidth < 640 ? 9 : 12 }
                                    },
                                    beginAtZero: true,
                                    max: 100,
                                    ticks: {
                                        font: { size: windowWidth < 640 ? 8 : 10 },
                                        maxTicksLimit: windowWidth < 640 ? 4 : 6
                                    }
                                }
                            },
                            plugins: {
                                legend: { display: false },
                                tooltip: {
                                    enabled: true,
                                    intersect: false,
                                    titleFont: { size: windowWidth < 640 ? 10 : 12 },
                                    bodyFont: { size: windowWidth < 640 ? 9 : 11 },
                                    callbacks: {
                                        label: function(context) {
                                            const f = fraccionamientos[context.dataIndex];
                                            return [
                                                f.nombre,
                                                `Precio: $${(f.precio/1000).toFixed(1)}k/m²`,
                                                `Puntaje: ${f.puntajeUbicacion}/100`,
                                                `Plusvalía: +${f.plusvalia}%`
                                            ];
                                        }
                                    }
                                },
                                datalabels: {
                                    display: true,
                                    align: function(context) {
                                        // Posicionamos las etiquetas arriba de cada burbuja
                                        return 'top';
                                    },
                                    offset: function(context) {
                                        // Ajustamos el offset según el tamaño de la burbuja
                                        const index = context.dataIndex;
                                        const radio = fraccionamientos[index].tamaño;
                                        return radio / 2 + 5;
                                    },
                                    color: function(context) {
                                        const index = context.dataIndex;
                                        return fraccionamientos[index].color;
                                    },
                                    font: {
                                        weight: 'bold',
                                        size: windowWidth < 640 ? 8 : 10
                                    },
                                    formatter: function(value, context) {
                                        const index = context.dataIndex;
                                        return fraccionamientos[index].nombre.split(' ')[0]; // Mostramos solo primera palabra
                                    },
                                    backgroundColor: 'rgba(255, 255, 255, 0.7)',
                                    borderRadius: 4,
                                    padding: {
                                        top: 2,
                                        bottom: 2,
                                        left: 4,
                                        right: 4
                                    }
                                }
                            }
                        }
                    });
                }

                // Gráfico de radar
                if (!radarRef.current) {
                    const radarCtx = document.getElementById('radarChart').getContext('2d');
                    radarRef.current = new Chart(radarCtx, {
                        type: 'radar',
                        data: {
                            labels: factoresRadar,
                            datasets: [
                                {
                                    label: 'Gran Quinta',
                                    data: puntuacionesGranQuinta,
                                    backgroundColor: 'rgba(245, 158, 11, 0.2)',
                                    borderColor: '#F59E0B',
                                    pointBackgroundColor: '#F59E0B',
                                    pointBorderColor: '#fff',
                                    pointHoverBackgroundColor: '#fff',
                                    pointHoverBorderColor: '#F59E0B',
                                    pointRadius: windowWidth < 640 ? 2 : 3
                                },
                                {
                                    label: 'Promedio otros',
                                    data: puntuacionesOtros,
                                    backgroundColor: 'rgba(30, 27, 75, 0.1)',
                                    borderColor: '#1E1B4B',
                                    pointBackgroundColor: '#1E1B4B',
                                    pointBorderColor: '#fff',
                                    pointHoverBackgroundColor: '#fff',
                                    pointHoverBorderColor: '#1E1B4B',
                                    pointRadius: windowWidth < 640 ? 2 : 3
                                }
                            ]
                        },
                        options: {
                            maintainAspectRatio: false,
                            responsive: true,
                            scales: {
                                r: {
                                    beginAtZero: true,
                                    max: 10,
                                    ticks: {
                                        stepSize: 2,
                                        callback: function(value) { return value; },
                                        font: { size: windowWidth < 640 ? 8 : 10 },
                                        backdropColor: 'transparent'
                                    },
                                    grid: { color: 'rgba(0,0,0,0.1)' },
                                    pointLabels: {
                                        font: { family: 'Inter', size: windowWidth < 640 ? 7 : 9, weight: 'bold' },
                                        color: '#0F172A'
                                    }
                                }
                            },
                            plugins: {
                                legend: { 
                                    position: 'bottom', 
                                    labels: { 
                                        font: { family: 'Inter', weight: 'bold', size: windowWidth < 640 ? 9 : 11 },
                                        boxWidth: windowWidth < 640 ? 10 : 12
                                    } 
                                },
                                tooltip: {
                                    enabled: true,
                                    titleFont: { size: windowWidth < 640 ? 10 : 12 },
                                    bodyFont: { size: windowWidth < 640 ? 9 : 11 }
                                }
                            }
                        }
                    });
                }

                return () => {
                    window.removeEventListener('scroll', handleScroll);
                    if (chartRef.current) {
                        chartRef.current.destroy();
                        chartRef.current = null;
                    }
                    if (bubbleRef.current) {
                        bubbleRef.current.destroy();
                        bubbleRef.current = null;
                    }
                    if (radarRef.current) {
                        radarRef.current.destroy();
                        radarRef.current = null;
                    }
                };
            }, [windowWidth]);

            const togglePlay = () => {
                if (videoRef.current) {
                    if (isPlaying) {
                        videoRef.current.pause();
                    } else {
                        videoRef.current.play();
                    }
                    setIsPlaying(!isPlaying);
                }
            };

            const advisor = {
                name: "Aurelio Robles Pichardo",
                phone: "5546539933",
                countryCode: "52",
                get waLink() {
                    return `https://wa.me/${this.countryCode}${this.phone}?text=${encodeURIComponent("Hola Aurelio, vi la ficha técnica del Lote 1 en Gran Quinta Metepec y quiero más información.")}`;
                }
            };

            const getMapLink = (nombre) => {
                return `https://www.google.com/maps/search/${encodeURIComponent(nombre + ' Metepec')}`;
            };

            return (
                <div className="overflow-x-hidden text-left bg-[#FDFBF7]">
                    {/* BOTÓN FLOTANTE WHATSAPP MÓVIL */}
                    <div className="fixed bottom-6 right-6 z-50 md:hidden">
                        <a 
                            href={advisor.waLink} 
                            target="_blank" 
                            rel="noopener noreferrer"
                            className="bg-emerald-600 w-16 h-16 rounded-full flex items-center justify-center shadow-2xl hover:scale-110 transition-transform"
                            aria-label="Contactar por WhatsApp"
                        >
                            <Icon name="whatsapp" className="w-8 h-8 text-white"/>
                        </a>
                    </div>

                    {/* NAV */}
                    <nav className={`fixed top-0 w-full z-40 transition-all duration-500 ${scrolled ? 'bg-white shadow-xl py-4 border-b border-orange-50' : 'bg-transparent py-4 md:py-8'}`}>
                        <div className="container mx-auto px-4 md:px-6 flex justify-between items-center">
                            <div className="flex items-center gap-2 md:gap-3">
                                <div className="w-8 h-8 md:w-10 md:h-10 bg-slate-900 text-white flex items-center justify-center font-black rounded-xl italic leading-none">GQ</div>
                                <div className="hidden md:block leading-tight">
                                    <p className={`font-bold font-serif uppercase tracking-tighter ${scrolled ? 'text-slate-900' : 'text-white'}`}>Gran Quinta</p>
                                    <p className="text-[8px] md:text-[10px] font-bold text-amber-500 uppercase tracking-widest italic">Lote 1 Premium</p>
                                </div>
                            </div>
                            <a 
                                href={advisor.waLink} 
                                target="_blank" 
                                rel="noopener noreferrer"
                                className="bg-emerald-600 text-white px-4 md:px-6 py-2 md:py-3 rounded-full font-black text-[10px] md:text-xs uppercase tracking-widest shadow-xl flex items-center gap-1 md:gap-2 hover:bg-emerald-700 transition-all active:scale-95 btn-touch"
                            >
                                <Icon name="whatsapp" className="w-3 h-3 md:w-4 md:h-4" ariaHidden={true}/> 
                                <span className="hidden xs:inline">Agendar</span> Cierre
                            </a>
                        </div>
                    </nav>

                    {/* HERO & COVER */}
                    <header className="hero-bg min-h-screen flex items-center justify-center text-center px-4 pb-20 relative">
                        <div className="max-w-4xl animate-up text-left mt-16 md:mt-0">
                            <span className="inline-block px-3 md:px-4 py-1 bg-white/20 backdrop-blur-md border border-white/30 text-white rounded-full text-[8px] md:text-[10px] font-black uppercase tracking-[0.3em] md:tracking-[0.4em] mb-4 md:mb-8 shadow-2xl italic">
                                Inversión Inteligente • Metepec
                            </span>
                            <h1 className="text-5xl md:text-9xl font-black text-slate-900 tracking-tighter leading-[0.8] font-serif italic mb-4 md:mb-8 uppercase">
                                TERRENO <br/> EN VENTA
                            </h1>
                            <p className="text-lg md:text-2xl text-slate-700 max-w-2xl mx-auto font-light italic mb-8 md:mb-12">
                                <span className="font-bold text-indigo-900">250m² frente a Casa Club</span> - el lote mejor ubicado del fraccionamiento. Inversión mediante <span className="font-bold text-indigo-900 italic underline decoration-amber-500 decoration-4 underline-offset-4 uppercase">Sustitución de Deudor</span> ante Notario.
                            </p>
                            
                            <div className="flex flex-col